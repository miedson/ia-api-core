generator client {
  provider = "prisma-client"
  output   = "../src/generated/prisma"
}

datasource db {
  provider = "sqlite"
}

model User {
  id             Int          @id @default(autoincrement())
  public_id      String       @default(uuid())
  name           String
  email          String       @unique
  passwordHash   String       @map("password_hash")
  organizationId Int          @map("organization_id")
  created_at     DateTime     @default(now())
  updated_at     DateTime     @updatedAt
  organization   Organization @relation(fields: [organizationId], references: [id])

  @@map("users")
}

model Organization {
  id         Int      @id @default(autoincrement())
  publicId   String   @default(uuid()) @map("public_id")
  name       String
  document   String   @unique
  slug       String   @unique
  created_at DateTime @default(now())
  updated_at DateTime @updatedAt
  users      User[]

  @@map("organizations")
}
